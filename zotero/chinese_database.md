# Zotero 与本土数据库二三事

每当谈及本土的数据库(知网，万方)的时候，力推 Zotero 的我总会欲言又止。Zotero 对中文数据库支持有限，但却不该为此背锅。于是，本文将慢慢聊聊 Zotero 与中文数据库的不睦，以及如何妥协。

## 拖 PDF？不存在的。

对于大多数不太旧英文 PDF 附件来说，Zotero 基本可以拖进去并正确生成条目，但为何中文就不行呢？是中文不能识别吗？基本不是。

通过拖入PDF的方式，Zotero 生成条目通过读取PDF元数据(metadata)。在笔者这个外行人的眼中，英语文献和中文文献出版过程大致是：

英文：作者填写题目，作者名单，提交附件到投稿系统 -> $\TeX$ 系统 -> 含正确元数据的 PDF
中文：作者提交附件到杂志社 -> Word 转 PDF，或经中文排版系统 -> 不含有正确元数据的 PDF

换言之，英文文献的元数据，要么是作者投稿时提交的，要么是定刊以后生成的，元数据的生成是无需人工。但同样的方式，在中国的流程中则会增加不少人工。因此，除非逐渐渡到投稿系统 + $\TeX$ 排版的流程，所以包含正确元数据的中文 PDF 还是很遥远的。

什么？你还想拖 CAJ？CAJ 是个封闭、知网独占的格式，放弃这个想法，我们还是朋友。

## 浏览器插件，也不好用？

早些年，有人问为什么 Zotero 用无法用浏览器插件导入知网条目时，笔者一般会提醒一句，检查域名是否为 <cnki.net> 。但是这些年不提醒了，因为 <cnki.net> 也不一定好用。

首先，Zotero 通过浏览器，从全文数据库(知网，万方均是)，导入条目，是相对最推荐的方式。

> 再扯远一些，聊下为什么推荐浏览器，而且要从**全文数据库**导入条目。
>
> 先区分下文摘/全文数据库，不负责责任的说，能不跳转直接下载全文的就叫做全文数据库，反之就是文摘数据库。常见的文摘数据库包括 Google学术，Web of Science，PubMed，此外个人觉得 ResearchGate 应该也算(虽然相对来说比较社交)。常见的全文数据库有 ScienceDirect(Elsvier), Springer, IEEE 以及知网和万方。
>
> 大概明白这两个概念了，应该能够发现全文数据库里的文献信息是一手的，而文摘数据库是二手的。相比而言，文摘数据库的准确程度比全文数据库差很多，而 Zotero 入库后，文献信息很难更新，因此，更建议**从全文数据库生成条目**。而且，全文数据库，也是所有导入方式中相对最准确的。

那么问题来了，为何推荐这么做，Zotero 反而不给知网和万方足够支持呢？因为不是 Zotero 不支持，是 translator 贡献者没法提供长期支持。

Zotero 将网页导入软件的功能，叫做 translator，本质上是网络爬虫。爬虫，对网页的格式还是比较敏感的。但知网这些年，大改网页样式太频繁了。同时，translator 本来就主要由用户贡献的，贡献者大多应该是时间较为充裕，善于折腾的学生，而学生的科研生命期往往不够长，并且大多数领域，还是英文文献的水平较高，也意味着踏实使用 Zotero 这种隽永内秀的软件做依赖大量中文文献的人更少。除非，有一个中文文献水平高的领域，有位常年科研(也就是老师而非学生)，用 Zotero，会开发的用户，才会对知网/万方提供长期支持。

然而，不同地方的镜像，又对应着各种不同年代(也就是不同格式)的知网。如果，这些镜像也要支持起来，那就不是一个贡献者的问题了，就需要一个 zotero-cnki-translators 项目了，不同的镜像都最好有一个开发者，或者散户贡献者上传后，核心贡献者维护。

真心希望有合适的人发起这个项目，对 Zotero 的本地推广有重大意义，到时候就可以底气十足的说，知网万方Zotero都支持，连镜像也支持。

## DOI？有，依旧不好使

DOI够时髦了吧，Zotero 总该支持了吧。够时髦，但是也支持不起。

在我刚刚用 Zotero 那一阵，万方知网好像还没有合法的 DOI，但是现在有了[^cn-doi]。

> 数字对象识别码（英语：Digital Object Identifier，简称DOI）也称数字对象识别号、数字对象识别符、数字对象标识符、数字对象唯一标识符等，是一套识别数字资源的机制，涵括的对象有影片、报告或书籍等等。它既有一套为资源命名的机制，也有一套将识别号解析为具体地址的协议。[^doi]
> 于是又个问题，希望有人能解惑。文献和DOI之间是一一映射的关系，那么同一篇文献在知网和万方都有DOI且不同算怎么回事？

但是吧，万方和知网的DOI是没法返回元数据的，就我一个外行人的观点，仿佛加盟了连锁店，装修完了还卖自己的东西。

知网，万方，你们加油吧，DOI可应该仅仅是个短网址啊。

## 数据库内置的导出，或许还能更快些？

Zotero 支持导入格式[^import_supported_formats].

## 附件怎么破？

[^cnki_pdf_js]

油猴脚本的还是调用cnki在线 CAJ 转 PDF 的功能，因此看网看设备看脸。

[^cn-doi]: [中文DOI](http://www.doi.org.cn/portal/index.htm)
[^doi]: [维基百科-DOI](https://zh.wikipedia.org/wiki/DOI)
[^import_supported_formats]: [Zotero supported import formats](https://www.zotero.org/support/kb/importing_standardized_formats)
[^cnki_pdf_js]: [油猴脚本: CNKI 中国知网 PDF 全文下载（特制版）](https://greasyfork.org/zh-CN/scripts/18842-cnki-%E4%B8%AD%E5%9B%BD%E7%9F%A5%E7%BD%91-pdf-%E5%85%A8%E6%96%87%E4%B8%8B%E8%BD%BD-%E7%89%B9%E5%88%B6%E7%89%88)